### <img src="../documentation/assets/UnicornSAPBlack256x256.png" width="64px"> SAP Automation > V1.0.0 > HANA <!-- omit in toc -->
# Adjusting the Templates <!-- omit in toc -->

Master Branch's status: [![Build Status](https://dev.azure.com/azuresaphana/Azure-SAP-HANA/_apis/build/status/Azure.sap-hana?branchName=master&api-version=5.1-preview.1)](https://dev.azure.com/azuresaphana/Azure-SAP-HANA/_build/latest?definitionId=6&branchName=master)

<br>

## Table of contents <!-- omit in toc -->
- [Adjusting the templates](#adjusting-the-templates)

<br>

## Adjusting the templates

1. In the Workspace directory, Create the JSON template.

   - For complete JSON samples, please check one of the following:

     - [template](/templates/tempGen/template.json) which is used for all PRs.

         > `cp <automation_root>/sap-hana/templates/tempGen/template.json .`

     - [template-daily](/templates/tempGen/template-daily.json) which is used in our daily test.

         > `cp <automation_root>/sap-hana/templates/tempGen/template-daily.json .`

   -  `sap-hana/deploy/template_samples` also contains some examples, but those are not actively tested.

<br>

2. Use a text editor to edit the JSON configuration file.  Full version of supported JSON configuration see below:

  - Fields to watch for if using a template
    - infrastructure.region
    - infrastructure.resource_group.name
    - databases.os

      ```json
            "os": {
              "publisher": "SUSE",
              "offer": "SLES-SAP",
              "sku": "12-SP4",
              "version": "latest"
            },
      ```

    - software.storage_account_sapbits.storage_account_name
    - software.storage_account_sapbits.arm_id
    - software.downloader.credentials.sap_user
    - software.downloader.credentials.sap_password

<br>

| Section                                                         | Key                                           | Type              | Explain                                                                                                                                                                                                                                                                                                                                                                                                                |
|-----------------------------------------------------------------|-----------------------------------------------|-------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <sub>infrastructure</sub>                                       | <sub>region</sub>                             | <sub>string</sub> | <sub>(Required) The location where the resource group should be   created. For a list of all Azure locations, please consult this link or run   az account list-locations --output table.</sub>                                                                                                                                                                                                                        |
| <sub></sub>                                                     | <sub>boot_diagnostics     _account_name</sub> | <sub>string</sub> | <sub>(Optional) Account name for for boot diagonstics account. If   not provided, will be "sabootdiag" with 4 bytes   random_id.</sub>                                                                                                                                                                                                                                                                                 |
| <sub>infrastructure.resource_group</sub>                        | <sub>is_existing</sub>                        | <sub>bool</sub>   | <sub>(Optional) Set to true to use existing resource group,   otherwise new resource group will be created. Default false.</sub>                                                                                                                                                                                                                                                                                       |
| <sub></sub>                                                     | <sub>name</sub>                               | <sub>string</sub> | <sub>(Required) The name of the resource group. Must be unique on   your Azure subscription.</sub>                                                                                                                                                                                                                                                                                                                     |
| <sub></sub>                                                     | <sub>arm_id</sub>                             | <sub>string</sub> | <sub>(Optional) Required if is_exsiting set to true.</sub>                                                                                                                                                                                                                                                                                                                                                             |
| <sub>infrastructure.vnets.management</sub>                      | <sub>is_existing</sub>                        | <sub>bool</sub>   | <sub>(Optional) Set to true to use existing vnets for management.   Default false.</sub>                                                                                                                                                                                                                                                                                                                               |
| <sub></sub>                                                     | <sub>arm_id</sub>                             | <sub>string</sub> | <sub>(Optional) Required if is_exsiting set to true.</sub>                                                                                                                                                                                                                                                                                                                                                             |
| <sub></sub>                                                     | <sub>name</sub>                               | <sub>string</sub> | <sub>(Required) The name of the virtual network for management   vnet.</sub>                                                                                                                                                                                                                                                                                                                                           |
| <sub></sub>                                                     | <sub>address_space</sub>                      | <sub>list</sub>   | <sub>(Required) The address space that is used by this virtual   network. You can supply more than one address space. </sub>                                                                                                                                                                                                                                                                                           |
| <sub>infrastructure.vnets.     management.subnet_mgmt</sub>     | <sub>is_existing</sub>                        | <sub>bool</sub>   | <sub>(Optional) Set to true to use existing management vnet.   Default false.</sub>                                                                                                                                                                                                                                                                                                                                    |
| <sub></sub>                                                     | <sub>arm_id</sub>                             | <sub>string</sub> | <sub>(Optional) Required if is_exsiting set to true.</sub>                                                                                                                                                                                                                                                                                                                                                             |
| <sub></sub>                                                     | <sub>name</sub>                               | <sub>string</sub> | <sub>(Required) The name of the subnet for management   vnet.</sub>                                                                                                                                                                                                                                                                                                                                                    |
| <sub></sub>                                                     | <sub>prefix</sub>                             | <sub>string</sub> | <sub>(Required) The address prefix to use for the   subnet.</sub>                                                                                                                                                                                                                                                                                                                                                      |
| <sub>infrastructure.vnets.     management.subnet_mgmt.nsg</sub> | <sub>is_existing</sub>                        | <sub>bool</sub>   | <sub>(Optional) Set to true to use existing network security group.   Default false.</sub>                                                                                                                                                                                                                                                                                                                             |
| <sub></sub>                                                     | <sub>arm_id</sub>                             | <sub>string</sub> | <sub>(Optional) Required if is_exsiting set to true.</sub>                                                                                                                                                                                                                                                                                                                                                             |
| <sub></sub>                                                     | <sub>name</sub>                               | <sub>string</sub> | <sub>(Required) The name of the subnet for nsg used for management   subnet.</sub>                                                                                                                                                                                                                                                                                                                                     |
| <sub></sub>                                                     | <sub>allowed_ips</sub>                        | <sub>list</sub>   | <sub>(Optional) List of source address prefixes.</sub>                                                                                                                                                                                                                                                                                                                                                                 |
| <sub>infrastructure.vnets.sap</sub>                             | <sub>is_existing</sub>                        | <sub>bool</sub>   | <sub>(Optional) Set to true to use existing sap vnet. Default   false.</sub>                                                                                                                                                                                                                                                                                                                                           |
| <sub></sub>                                                     | <sub>arm_id</sub>                             | <sub>string</sub> | <sub>(Optional) Required if is_exsiting set to true.</sub>                                                                                                                                                                                                                                                                                                                                                             |
| <sub></sub>                                                     | <sub>name</sub>                               | <sub>string</sub> | <sub>(Required) The name of the virtual network for sap   vnet.</sub>                                                                                                                                                                                                                                                                                                                                                  |
| <sub></sub>                                                     | <sub>address_space</sub>                      | <sub>list</sub>   | <sub>(Required) The address space that is used by this virtual   network. You can supply more than one address space. </sub>                                                                                                                                                                                                                                                                                           |
| <sub>infrastructure.vnets.     sap.subnet_admin</sub>           | <sub>is_existing</sub>                        | <sub>bool</sub>   | <sub>(Optional) Set to true to use existing sap vnet. Default   false.</sub>                                                                                                                                                                                                                                                                                                                                           |
| <sub></sub>                                                     | <sub>arm_id</sub>                             | <sub>string</sub> | <sub>(Optional) Required if is_exsiting set to true.</sub>                                                                                                                                                                                                                                                                                                                                                             |
| <sub></sub>                                                     | <sub>name</sub>                               | <sub>string</sub> | <sub>(Required) The name of the subnet for sap vnet.</sub>                                                                                                                                                                                                                                                                                                                                                             |
| <sub></sub>                                                     | <sub>prefix</sub>                             | <sub>string</sub> | <sub>(Required) The address prefix to use for the   subnet.</sub>                                                                                                                                                                                                                                                                                                                                                      |
| <sub>infrastructure.vnets.     sap.subnet_admin.nsg</sub>       | <sub>is_existing</sub>                        | <sub>bool</sub>   | <sub>(Optional) Set to true to use existing network security group.   Default false.</sub>                                                                                                                                                                                                                                                                                                                             |
| <sub></sub>                                                     | <sub>arm_id</sub>                             | <sub>string</sub> | <sub>(Optional) Required if is_exsiting set to true.</sub>                                                                                                                                                                                                                                                                                                                                                             |
| <sub></sub>                                                     | <sub>name</sub>                               | <sub>string</sub> | <sub>(Required) The name of the subnet for nsg used for sap admin   subnet.</sub>                                                                                                                                                                                                                                                                                                                                      |
| <sub>infrastructure.vnets.     sap.subnet_db</sub>              | <sub>is_existing</sub>                        | <sub>bool</sub>   | <sub>(Optional) Set to true to use existing sap vnet. Default   false.</sub>                                                                                                                                                                                                                                                                                                                                           |
| <sub></sub>                                                     | <sub>arm_id</sub>                             | <sub>string</sub> | <sub>(Optional) Required if is_exsiting set to true.</sub>                                                                                                                                                                                                                                                                                                                                                             |
| <sub></sub>                                                     | <sub>name</sub>                               | <sub>string</sub> | <sub>(Required) The name of the subnet for sap vnet.</sub>                                                                                                                                                                                                                                                                                                                                                             |
| <sub></sub>                                                     | <sub>prefix</sub>                             | <sub>string</sub> | <sub>(Required) The address prefix to use for the   subnet.</sub>                                                                                                                                                                                                                                                                                                                                                      |
| <sub>infrastructure.vnets.     sap.subnet_db.nsg</sub>          | <sub>is_existing</sub>                        | <sub>bool</sub>   | <sub>(Optional) Set to true to use existing network security group.   Default false.</sub>                                                                                                                                                                                                                                                                                                                             |
| <sub></sub>                                                     | <sub>arm_id</sub>                             | <sub>string</sub> | <sub>(Optional) Required if is_exsiting set to true.</sub>                                                                                                                                                                                                                                                                                                                                                             |
| <sub></sub>                                                     | <sub>name</sub>                               | <sub>string</sub> | <sub>(Required) The name of the subnet for nsg used for sap admin   subnet.</sub>                                                                                                                                                                                                                                                                                                                                      |
| <sub>jumpboxes.windows</sub>                                    | <sub>name</sub>                               | <sub>string</sub> | <sub>(Required) Specifies the name of the Virtual   Machine.</sub>                                                                                                                                                                                                                                                                                                                                                     |
| <sub></sub>                                                     | <sub>destroy_after_deploy</sub>               | <sub>bool</sub>   | <sub>(Optional) The jumpbox should be destroyed after the   deployment if set to true.</sub>                                                                                                                                                                                                                                                                                                                           |
| <sub></sub>                                                     | <sub>size</sub>                               | <sub>string</sub> | <sub>(Required) Specifies the size of the Virtual   Machine.</sub>                                                                                                                                                                                                                                                                                                                                                     |
| <sub></sub>                                                     | <sub>private_ip_address</sub>                 | <sub>string</sub> | <sub>(Optional) Static IP Address for jumpbox VM. Will be assigned   according to its order under jumpboxes if left empty.</sub>                                                                                                                                                                                                                                                                                       |
| <sub></sub>                                                     | <sub>components</sub>                         | <sub>list</sub>   | <sub>(Optional) List of components to be installed on jumpbox VM,   options: [hana_studio, hana_client]</sub>                                                                                                                                                                                                                                                                                                          |
| <sub>jumpboxes.windows.*.os</sub>                               | <sub>publisher</sub>                          | <sub>string</sub> | <sub>(Required) Specifies the publisher of the image used to create   the virtual machine.</sub>                                                                                                                                                                                                                                                                                                                       |
| <sub></sub>                                                     | <sub>offer</sub>                              | <sub>string</sub> | <sub>(Required) Specifies the offer of the image used to create the   virtual machine.</sub>                                                                                                                                                                                                                                                                      |
| <sub></sub>                                                     | <sub>sku</sub>                                | <sub>string</sub> | <sub>(Required) Specifies the SKU of the image used to create the   virtual machine.</sub>                                                                                                                                                                                                                                                                        |
| <sub>jumpboxes.windows.*.authentication</sub>                   | <sub>type</sub>                               | <sub>string</sub> | <sub>(Required) Authentication method for windows jumpbox VM. Options:   [password]</sub>                                                                                                                                                                                                                                                                                                                                 |
| <sub></sub>                                                     | <sub>username</sub>                           | <sub>string</sub> | <sub>(Required) Specifies the name of the local administrator   account.</sub>                                                                                                                                                                                                                                                                                                                                         |
| <sub></sub>                                                     | <sub>password</sub>                           | <sub>string</sub> | <sub>(Required) The password associated with the local   administrator account.</sub>                                                                                                                                                                                                                                                                                                                                  |
| <sub>jumpboxes.linux</sub>                                      | <sub>name</sub>                               | <sub>string</sub> | <sub>(Required) Specifies the name of the Virtual   Machine.</sub>                                                                                                                                                                                                                                                                                                                                                     |
| <sub></sub>                                                     | <sub>destroy_after_deploy</sub>               | <sub>bool</sub>   | <sub>(Optional) The jumpbox should be destroyed after the   deployment if set to true.</sub>                                                                                                                                                                                                                                                                                                                           |
| <sub></sub>                                                     | <sub>size</sub>                               | <sub>string</sub> | <sub>(Required) Specifies the size of the Virtual   Machine.</sub>                                                                                                                                                                                                                                                                                                                                                     |
| <sub></sub>                                                     | <sub>private_ip_address</sub>                 | <sub>string</sub> | <sub>(Optional) Static IP Address for jumpbox VM. Will be assigned   according to its order under jumpboxes if left empty.</sub>                                                                                                                                                                                                                                                                                       |
| <sub></sub>                                                     | <sub>components</sub>                         | <sub>list</sub>   | <sub>(Optional) List of components to be installed on jumpbox VM,   options: [hana_studio, hana_client].</sub>                                                                                                                                                                                                                                                                                                         |
| <sub>jumpboxes.linux.*.os</sub>                               | <sub>publisher</sub>                          | <sub>string</sub> | <sub>(Required) Specifies the publisher of the image used to create   the virtual machine.</sub>                                                                                                                                                                                                                                                                                                                       |
| <sub></sub>                                                     | <sub>offer</sub>                              | <sub>string</sub> | <sub>(Required) Specifies the offer of the image used to create the   virtual machine.</sub>                                                                                                                                                                                                                                                                      |
| <sub></sub>                                                     | <sub>sku</sub>                                | <sub>string</sub> | <sub>(Required) Specifies the SKU of the image used to create the   virtual machine.</sub>                                                                                                                                                                                                                                                                        |
| <sub>jumpboxes.linux.*.authentication</sub>                   | <sub>type</sub>                               | <sub>string</sub> | <sub>(Required) Authentication method for windows jumpbox VM. Options:   [key]</sub>                                                                                                                                                                                                                                                                                                                                 |
| <sub></sub>                                                     | <sub>username</sub>                           | <sub>string</sub> | <sub>(Required) Specifies the name of the local administrator   account.</sub>                                                                                                                                                                                                                                                                                                                                         |
| <sub>databases</sub>                                            | <sub>platform</sub>                           | <sub>string</sub> | <sub>(Required) Type of database, options: [HANA].</sub>                                                                                                                                                                                                                                                                                                                                                               |
| <sub></sub>                                                     | <sub>db_version</sub>                         | <sub>string</sub> | <sub>(Required) Revision of database. We currently only support the   HANA versions from HANA Database 1.0/2.0 Platform Media.</sub>                                                                                                                                                                                                                                                                                   |
| <sub></sub>                                                     | <sub>filesystem</sub>                         | <sub>string</sub> | <sub>(Requred) Filesystem type, options: [XFS].</sub>                                                                                                                                                                                                                                                                                                                                                                  |
| <sub></sub>                                                     | <sub>db_mode</sub>                         | <sub>string</sub> | <sub>(Optional)  HANA database mode. options: single_container, multiple_containers.</sub>                                                                                                                                                                                                                                                                                                                                                                  |
| <sub></sub>                                                     | <sub>high_availability</sub>                  | <sub>bool</sub>   | <sub>(Reserved for HA pair scenario) </sub>                                                                                                                                                                                                                                                                                                                                                                            |
| <sub></sub>                                                     | <sub>components</sub>                         | <sub>list</sub>   | <sub>(Required) List of components to be installed on HANA VM,   options: [hana_database, hana_studio, hana_client, xs, shine]. xs component   is a list, options: [all, none, xsac_alm_pi_ui, xsac_file_proc,   xsac_hana_ea_d, xsac_hrtt, xsac_mess_srv, xsac_portal_serv, xsac_sap_web_ide,   xsac_services, xsac_ui5_fesv6, xsac_ui5_sb, xsac_xsa_cockpit]. The please   include all required xs components.</sub> |
| <sub>databases.*.os</sub>                                       | <sub>publisher</sub>                          | <sub>string</sub> | <sub>(Required) Specifies the publisher of the image used to create the virtual machine.</sub>                                                                                                                                                                                                                                                                                                                       |
| <sub></sub>                                                     | <sub>offer</sub>                              | <sub>string</sub> | <sub>(Required) Specifies the offer of the image used to create the virtual machine.</sub>                                                                                                                                                                                                                                                                      |
| <sub></sub>                                                     | <sub>sku</sub>                                | <sub>string</sub> | <sub>(Required) Specifies the SKU of the image used to create the   virtual machine.<sup>[1](#myfootnote1)</sup>
| <sub>databases.*.authentication</sub>                           | <sub>type</sub>                               | <sub>string</sub> | <sub>(Required) Authentication method for HANA database VM. Options:   [key].</sub>                                                                                                                                                                                                                                                                                                                                |
| <sub></sub>                                                     | <sub>username</sub>                           | <sub>string</sub> | <sub>(Required) Specifies the name of the local administrator   account.</sub>                                                                                                                                                                                                                                                                                                                                         |
| <sub>databases.*.instance</sub>                                 | <sub>sid</sub>                                | <sub>string</sub> | <sub>(Required) SID for SAP instance (For reserved SID, check SAP   Note 1979280).</sub>                                                                                                                                                                                                                                                                                                                               |
| <sub></sub>                                                     | <sub>instance_number</sub>                    | <sub>string</sub> | <sub>(Required) Instance number for SAP instance.</sub>                                                                                                                                                                                                                                                                                                                                                                |
| <sub>databases.*.credentials</sub>                              | <sub>db_systemdb_password</sub>               | <sub>string</sub> | <sub>(Required) SYSTEM user password for SYSTEMDB.</sub>                                                                                                                                                                                                                                                                                                                                                               |
| <sub></sub>                                                     | <sub>os_sidadm_password</sub>                 | <sub>string</sub> | <sub>(Required) sidadm user password.</sub>                                                                                                                                                                                                                                                                                                                                                                            |
| <sub></sub>                                                     | <sub>os_sapadm_password</sub>                 | <sub>string</sub> | <sub>(Required) sapadm user password.</sub>                                                                                                                                                                                                                                                                                                                                                                            |
| <sub></sub>                                                     | <sub>xsa_admin_password</sub>                 | <sub>string</sub> | <sub>(Optional) XSA_ADMIN user password if xs is in   databases.*.components.</sub>                                                                                                                                                                                                                                                                                                                                    |
| <sub></sub>                                                     | <sub>cockpit_admin_password</sub>             | <sub>string</sub> | <sub>(Optional) COCKPIT_ADMIN user password if xsac_xsa_cockpit is   in databases.*.components.</sub>                                                                                                                                                                                                                                                                                                                  |
| <sub>databases.*.xsa</sub>                                      | <sub>routing</sub>                            | <sub>string</sub> | <sub>(Optional) Routing method. Required if xs is in   databases.*.components.</sub>                                                                                                                                                                                                                                                                                                                                   |
| <sub>databases.*.nodes.*</sub>                                  | <sub>name</sub>                               | <sub>string</sub> | <sub>(Required) Specifies the name of the Virtual   Machine.</sub>                                                                                                                                                                                                                                                                                                                                                     |
| <sub></sub>                                                     | <sub>admin_nic_ips</sub>                         | <sub>list</sub> | <sub>(Optional) List of up to 2 static IP Addresses of HANA database VM for traffic from jumpboxes (1 IP for single HANA deployment and 2 IPs for HA pair). Will be assigned   according to its order under jumpboxes if left empty.</sub>                                                                                                                                                                                                                                                                                       |
| <sub></sub>                                                     | <sub>db_nic_ips</sub>                         | <sub>list</sub> | <sub>(Optional) List of up to 2 static IP Addresses of HANA database VM for inter nodes traffic (1 IP for single HANA deployment and 2 IPs for HA pair). Will be assigned   according to its order under jumpboxes if left empty.</sub>                                                                                                                                                                                                                                                                                       |
| <sub></sub>                                                     | <sub>role</sub>                               | <sub>string</sub> | <sub>(Reserved for scale-out scenario, options:[worker,   standby])</sub>                                                                                                                                                                                                                                                                                                                                              |
| <sub>databases.*.loadbalancer</sub>                             | <sub>frontend_ip</sub>                        | <sub>string</sub> | <sub>(Optional) Specifies the IP Address to use for the Loadbalancer Frontend IP Configuration.</sub>                                                                                                                                                                                                                                                                                                                                                     |
| <sub>application</sub>                             | <sub>sid</sub>                        | <sub>string</sub> | <sub>(Required) The SID to use when deploying Application infrastructure.</sub>                                                                                                                                                                                                                                                                                                                                                     |
|                              | <sub>enable_deployment</sub>                        | <sub>bool</sub> | <sub>(Required) Controls deployment of Application module, containing SCS and Application VMs. Set to true to deploy, set to false to omit.</sub>                                                                                                                                                                                                                                                                                                                                                     |
|                                                    | <sub>scs_instance_number</sub>                        | <sub>string</sub> | <sub>(Required) Instance number for the SCS instance.</sub>                                                                                                                                                                                                                                                                                                                                                     |
|                                                    | <sub>ers_instance_number</sub>                        | <sub>string</sub> | <sub>(Required) Instance number for the ERS instance.</sub>                                                                                                                                                                                                                                                                                                                                                     |
|                                                    | <sub>scs_high_availability</sub>                        | <sub>bool</sub> | <sub>(Required) Set to true to deploy 2 VMs for an SCS/ERS high availability pair.</sub>                                                                                                                                                                                                                                                                                                                                                     |
|                                                    | <sub>application_server_count</sub>                        | <sub>int</sub> | <sub>(Required) Number of Application Servers to deploy.</sub>                                                                                                                                                                                                                                                                                                                                                     |
|                                                    | <sub>webdispatcher_server_count</sub>                        | <sub>int</sub> | <sub>(Required) Number of Web Dispatcher Servers to deploy.</sub>                                                                                                                                                                                                                                                                                                                                                     |
|                                                    | <sub>vm_sizing</sub>                        | <sub>string</sub> | <sub>(Required) Determines the size of VM and disk to use, see deploy/app_sizes.json, options: [Default]</sub>                                                                                                                                                                                                                                                                                                                                                     |
|                                                    | <sub>app_nic_ips</sub>                        | <sub>list</sub> | <sub>(Optional) List of IP addresses to assign to Application VMs when using an existing Application subnet. If used, number of IPs supplied should match application_server_count.</sub>                                                                                                                                                                                                                                                                                                                                                     |
|                                                    | <sub>scs_lb_ips</sub>                        | <sub>list</sub> | <sub>(Optional) List of IP addresses to assign to SCS Load Balancer Frontend IPs when using an existing Application subnet. If used 2 ips must be supplied for both SA and HA deployments, the first IP is used for SCS load balancing, and the second IP is for ERS load balancing.</sub>                                                                                                                                                                                                                                                                                                                                                     |
|                                                    | <sub>scs_nic_ips</sub>                        | <sub>list</sub> | <sub>(Optional) List of IP addresses to assign to SCS VMs when using an existing Application subnet. If used, supply 1 IP for Stand Alone deployments, and 2 IPs for High Availability deployments.</sub>                                                                                                                                                                                                                                                                                                                                                     |
|                                                    | <sub>web_lb_ips</sub>                        | <sub>list</sub> | <sub>(Optional) List of IP addresses to assign to Web Dispatcher Load Balancer Frontend IPs when using an existing Application subnet. If used, only the first IP address supplied is assigned to the Load Balancer.</sub>                                                                                                                                                                                                                                                                                                                                                     |
|                                                    | <sub>web_nic_ips</sub>                        | <sub>list</sub> | <sub>(Optional) List of IP addresses to assign to Web Dispatcher VMs when using an existing Application subnet. If used, number of IPs supplied should match webdispatcher_server_count.</sub>                                                                                                                                                                                                                                                                                                                                                     |
| <sub>application.authentication</sub>                           | <sub>type</sub>                               | <sub>string</sub> | <sub>(Required) Authentication method for HANA database VM. Options:   [key].</sub>                                                                                                                                                                                                                                                                                                                                |
| <sub></sub>                                                     | <sub>username</sub>                           | <sub>string</sub> | <sub>(Required) Specifies the name of the local administrator account.</sub>                                                                                                                                                                                                                                                                                                                                         |
| <sub>application.os</sub>                                       | <sub>publisher</sub>                          | <sub>string</sub> | <sub>(Required) Specifies the publisher of the image used to create the virtual machine.</sub>                                                                                                                                                                                                                                                                                                                       |
| <sub></sub>                                                     | <sub>offer</sub>                              | <sub>string</sub> | <sub>(Required) Specifies the offer of the image used to create the virtual machine.</sub>                                                                                                                                                                                                                                                                      |
| <sub></sub>                                                     | <sub>sku</sub>                                | <sub>string</sub> | <sub>(Required) Specifies the SKU of the image used to create the virtual machine.<sup>[1](#myfootnote1)</sup>
| <sub></sub>                                                     | <sub>version</sub>                                | <sub>string</sub> | <sub>(Optional) Defaults to "latest", Specifies the version of the image used to create the virtual machine.
| <sub>software.storage_account</sub>                             | <sub>use_existing</sub>                       | <sub>bool</sub>   | <sub>(Optional) Set to true to use existing storage account,   otherwise new storage account will be created. Default false.</sub>                                                                                                                                                                                                                                                                                     |
| <sub></sub>                                                     | <sub>storage_account_name</sub>               | <sub>string</sub> | <sub>(Required) Specifies the name of the storage account. This   must be unique across the entire Azure service, not just within the resource   group.</sub>                                                                                                                                                                                                                                                          |
| <sub></sub>                                                     | <sub>storage_access_key</sub>                 | <sub>string</sub> | <sub>(Optional) The primary access key for the storage account. It   is required if is_existing set to true.</sub>                                                                                                                                                                                                                                                                                                     |
| <sub></sub>                                                     | <sub>account_tier</sub>                       | <sub>string</sub> | <sub>(Required) Defines the Tier to use for this storage account.   Valid options are Standard and Premium. For FileStorage accounts only Premium   is valid</sub>                                                                                                                                                                                                                                                     |
| <sub></sub>                                                     | <sub>account_replication_type</sub>           | <sub>string</sub> | <sub>(Required) Defines the type of replication to use for this   storage account. Valid options are LRS, GRS, RAGRS and ZRS.</sub>                                                                                                                                                                                                                                                                                    |
| <sub></sub>                                                     | <sub>account_kind</sub>                       | <sub>string</sub> | <sub>(Optional) Defines the Kind of account. Valid options are   BlobStorage, BlockBlobStorage, FileStorage, Storage and StorageV2. Defaults   to Storage.</sub>                                                                                                                                                                                                                                                       |
| <sub></sub>                                                     | <sub>blob_container_name</sub>                | <sub>string</sub> | <sub>(Required) The name of the Container which should be created   within the Storage Account.</sub>                                                                                                                                                                                                                                                                                                                  |
| <sub></sub>                                                     | <sub>file_share_name</sub>                    | <sub>string</sub> | <sub>(Required) The name of the share. Must be unique within the   storage account where the share is located.</sub>                                                                                                                                                                                                                                                                                                   |
| <sub></sub>                                                     | <sub>container_access_type</sub>              | <sub>string</sub> | <sub>(Optional) The Access Level configured for this Container.   Possible values are blob, container or private. Defaults to   private.</sub>                                                                                                                                                                                                                                                                         |
| <sub>software.smp_cridential</sub>                              | <sub>sap_user</sub>                           | <sub>string</sub> | <sub>(Required) The username for SAP service market   place</sub>                                                                                                                                                                                                                                                                                                                                                      |
| <sub></sub>                                                     | <sub>sap_password</sub>                       | <sub>string</sub> | <sub>(Required) The password for SAP service market   place</sub>                                                                                                                                                                                                                                                                                                                                                      |
| <sub>sshkey</sub>                                               | <sub>path_to_private_key</sub>                | <sub>string</sub> | <sub>(Optional) Path to private key. Reuiqred if key is used as   Authentication.type for any virtual machine. All deployed virtual machine   will share the same SSH key pair. Only PEM file extension is accepted due to   limitation from Terrafrom.</sub>                                                                                                                                                          |
| <sub></sub>                                                     | <sub>path_to_public_key</sub>                 | <sub>string</sub> | <sub>(Optional) Path to public key. Reuiqred if key is used as   Authentication.type for any virtual machine. All deployed virtual machine   will share the same SSH key pair.</sub>                                                                                                                                                                                                                                   |
| <sub>options</sub>                                              | <sub>enable_secure_transfer</sub>             | <sub>bool</sub>   | <sub>(Optional) Default true. If se to true, secure transfer will   be enabled.</sub>                                                                                                                                                                                                                                                                                                                                  |
| <sub></sub>                                                     | <sub>ansible_execution</sub>                  | <sub>bool</sub>   | <sub>(Optional) Default true. If set to true, Ansible playbook will   be executed from jumpbox from terraform deployment.</sub>                                                                                                                                                                                                                                                                                       |
| <sub></sub>                                                     | <sub>enable_prometheus</sub>                  | <sub>bool</sub>   | <sub>(Optional) Default true. If set to true, Ansible playbook will enable prometheus<sup>[2](#myfootnote2)</sup> on the VM.</sub>                                                                                                                                                                                                                                                                                       |


<sup>[1](#myfootnote1)</sup>: Current Ansible playbook suppports images for SAP applications, e.g. SLES-SAP, RHEL-SAP-HANA.

And we only include OS configuration for:
- SLES 12
- RHEL 7

<sup>[2](#myfootnote2)</sup>: Enabling [promethus](https://prometheus.io/) will enrich the set of telemetry even more when you monitor your Hana Instance using Azure Monitor for SAP Solutions

If you use BYOS image, the Ansible playbook will throw error during the OS configuration.
